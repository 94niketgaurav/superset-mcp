# Superset-MCP Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED: Superset Connection
# =============================================================================
SUPERSET_URL=https://your-superset-instance.com
SUPERSET_USERNAME=your_username
SUPERSET_PASSWORD=your_password

# =============================================================================
# OPTIONAL: Superset Settings
# =============================================================================
# Authentication provider (default: db)
SUPERSET_PROVIDER=db

# Block write operations - INSERT, UPDATE, DELETE, etc. (default: true)
READ_ONLY=true

# Restrict to specific database IDs (comma-separated, empty = allow all)
ALLOWED_DATABASE_IDS=

# Path to relationships.yaml for predefined joins (default: relationships.yaml)
RELATIONSHIPS_PATH=relationships.yaml

# =============================================================================
# LLM Configuration (at least one recommended)
# =============================================================================
# Default LLM provider: openai, claude, or gemini
LLM_PROVIDER=openai

# OpenAI API key - used for SQL generation
OPENAI_API_KEY=

# OpenAI model (default: gpt-4o)
OPENAI_MODEL=gpt-4o

# Anthropic Claude API key - alternative SQL generation
CLAUDE_API_KEY=
# or use: ANTHROPIC_API_KEY=

# Claude model (default: claude-sonnet-4-20250514)
CLAUDE_MODEL=claude-sonnet-4-20250514

# Gemini API key - used for SQL critique/improvement (optional)
GEMINI_API_KEY=

# Gemini model (default: gemini-2.0-flash)
GEMINI_MODEL=gemini-2.0-flash

# =============================================================================
# Application Settings
# =============================================================================
# Enable interactive mode with user prompts (default: true)
INTERACTIVE_MODE=true

# Dataset cache TTL in seconds (default: 300)
CACHE_TTL_SECONDS=300

# Database engine hint for SQL dialect (default: postgresql)
ENGINE_HINT=postgresql

# =============================================================================
# Knowledge Store Database (PostgreSQL)
# =============================================================================
# Set these to use PostgreSQL for the knowledge store instead of SQLite
# If not set, SQLite will be used (stored in ~/.superset-mcp/knowledge.db)

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=superset_mcp
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password

# =============================================================================
# Lakekeeper (Iceberg REST Catalog) - Optional
# =============================================================================
# Used as a fallback for fetching table schema when SQL queries fail
# Particularly useful for StarRocks tables backed by Iceberg

# Lakekeeper REST API URL (e.g., https://lakekeeper.example.com)
LAKEKEEPER_URL=

# Authentication token (Bearer token)
LAKEKEEPER_TOKEN=

# Warehouse/catalog name (default: default)
LAKEKEEPER_WAREHOUSE=warehouse-analytics